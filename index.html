<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>ç¡¬é«”/éŸŒé«”å–®å­—å¡</title>
    <style>
        /* åŸºç¤ä½ˆå±€èˆ‡èƒŒæ™¯ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2);
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            flex-direction: column;
            color: white;
            overflow: hidden; /* é˜²æ­¢æ»¾å‹• */
        }
        .container {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px 10px; /* èª¿æ•´å·¦å³ padding */
            box-sizing: border-box;
        }

        /* å¡ç‰‡æ¨£å¼ */
        .card {
            background: white;
            color: #333;
            width: 95%; /* å¢åŠ å¡ç‰‡å¯¬åº¦ä½”æ¯” */
            max-width: 420px;
            height: 55vh; /* èª¿æ•´å¡ç‰‡é«˜åº¦ä½”æ¯”ï¼Œç•™æ›´å¤šç©ºé–“çµ¦æ§åˆ¶é … */
            min-height: 360px; /* é™ä½æœ€å°é«˜åº¦ä»¥é©æ‡‰å°è¢å¹• */
            border-radius: 24px; /* æ‰‹æ©Ÿä¸Šç•¥ç‚ºç¸®å°åœ“è§’ */
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            cursor: pointer;
            transition: transform 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            transform-style: preserve-3d;
            position: relative;
        }
        .card.flipped {
            transform: rotateY(180deg);
        }
        .front, .back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            border-radius: 24px;
            padding: 25px; /* ç¸®å°å…§é‚Šè· */
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .front {
            background: linear-gradient(135deg, #f5f7fa, #e4efe9);
            z-index: 2;
            transform: rotateY(0deg);
        }
        .back {
            background: linear-gradient(135deg, #fdfbfb, #ebedee);
            transform: rotateY(180deg);
        }

        /* æ–‡å­—å…§å®¹æ¨£å¼ */
        .word {
            font-size: 2.8em; /* èª¿æ•´å­—é«”å¤§å° */
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 15px;
        }
        .chinese {
            font-size: 1.4em; /* èª¿æ•´å­—é«”å¤§å° */
            color: #7f8c8d;
            margin-top: 8px;
            font-weight: 500;
            transition: opacity 0.3s;
            min-height: 1.5em; /* ä¿æŒä¸­æ–‡å€å¡Šé«˜åº¦ï¼Œé¿å…åˆ‡æ›æ™‚è·³å‹• */
        }
        .chinese.hidden {
            opacity: 0;
        }
        .sentence-en {
            font-size: 1.3em; /* èª¿æ•´å­—é«”å¤§å° */
            line-height: 1.5;
            color: #2c3e50;
            margin-bottom: 15px;
            font-weight: 600;
        }
        .sentence-zh {
            font-size: 1.1em; /* èª¿æ•´å­—é«”å¤§å° */
            color: #636e72;
            line-height: 1.5;
            transition: opacity 0.3s;
            min-height: 1.5em;
        }
        .sentence-zh.hidden {
            opacity: 0;
        }

        /* ä¸»è¦æ§åˆ¶å€å¡Š */
        .controls {
            margin-top: 25px;
            display: flex;
            justify-content: space-between; /* è®“æŒ‰éˆ•åˆ†æ•£å°é½Š */
            align-items: center;
            width: 100%;
            max-width: 420px;
            gap: 10px; /* ç¸®å°æŒ‰éˆ•é–“è· */
        }
        button {
            background: rgba(255,255,255,0.25);
            border: none;
            color: white;
            width: 50px; /* èª¿æ•´ç‚ºçµ±ä¸€å¤§å° */
            height: 50px;
            border-radius: 50%;
            font-size: 1.6em; /* ç•¥å¾®ç¸®å°å­—é«” */
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: transform 0.2s, background 0.2s;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }
        button:active {
            transform: scale(0.9);
        }
        .speak-btn {
            background: #007aff;
            width: 65px; /* èªéŸ³éµåŠ å¤§ */
            height: 65px;
            font-size: 2.5em;
        }
        .toggle-chinese-btn {
            font-size: 1.5em;
            background: rgba(255,255,255,0.3);
        }

        /* èªé€Ÿæ§åˆ¶å€å¡Š */
        .speed-controls {
            margin-top: 15px;
            display: flex;
            gap: 6px; /* é€²ä¸€æ­¥ç¸®å°é–“è· */
            flex-wrap: wrap; /* å…è¨±æ›è¡Œä»¥é©æ‡‰æ¥µå°è¢å¹• */
            justify-content: center;
        }
        .speed-btn {
            width: auto;
            height: 36px; /* ç¸®å°é«˜åº¦ */
            padding: 0 10px;
            border-radius: 18px;
            font-size: 0.9em; /* ç¸®å°å­—é«” */
            background: rgba(255,255,255,0.2);
            color: white;
        }
        .speed-btn.active {
            background: #fff;
            color: #667eea;
            font-weight: bold;
        }
        .progress {
            margin-top: 15px;
            font-size: 1.1em;
            font-weight: 500;
            opacity: 0.9;
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="card" id="card">
            <div class="front">
                <div class="word" id="word">Test</div>
                <div class="chinese" id="chinese-front">æ¸¬è©¦</div>
            </div>
            <div class="back">
                <div class="sentence-en" id="sentence-en">This is a test sentence.</div>
                <div class="sentence-zh" id="sentence-zh">é€™æ˜¯ä¸€å€‹æ¸¬è©¦å¥å­ã€‚</div>
            </div>
        </div>

        <div class="progress" id="progress">1 / 30</div>
        
        <div class="controls">
            <button onclick="prevCard()" title="ä¸Šä¸€å€‹">â—€</button>
            <button class="toggle-chinese-btn" onclick="toggleChinese()" title="é¡¯ç¤º/éš±è—ä¸­æ–‡">ğŸ‘</button>
            <button class="speak-btn" onclick="speakCurrent()" title="ç™¼éŸ³">ğŸ”Š</button>
            <button onclick="toggleFlip()" title="ç¿»è½‰">â†»</button>
            <button onclick="nextCard()" title="ä¸‹ä¸€å€‹">â–¶</button>
        </div>

        <div class="speed-controls">
            <button class="speed-btn" data-rate="0.5" onclick="setRate(0.5)">0.5x</button>
            <button class="speed-btn" data-rate="0.75" onclick="setRate(0.75)">0.75x</button>
            <button class="speed-btn active" data-rate="1" onclick="setRate(1)">1x</button>
            <button class="speed-btn" data-rate="1.25" onclick="setRate(1.25)">1.25x</button> <button class="speed-btn" data-rate="1.5" onclick="setRate(1.5)">1.5x</button>
        </div>
    </div>

    <script>
        const vocab = [
            {en: "test", ch: "æ¸¬è©¦", enSent: "We need to test the new firmware on all platforms.", zhSent: "æˆ‘å€‘éœ€è¦åœ¨æ‰€æœ‰å¹³å°ä¸Šæ¸¬è©¦æ–°éŸŒé«”ã€‚"},
            {en: "debug", ch: "é™¤éŒ¯", enSent: "I spent all day debugging the boot failure issue.", zhSent: "æˆ‘èŠ±äº†ä¸€æ•´å¤©é™¤éŒ¯é–‹æ©Ÿå¤±æ•—çš„å•é¡Œã€‚"},
            {en: "issue", ch: "å•é¡Œ", enSent: "There is a critical issue with the BMC firmware.", zhSent: "BMC éŸŒé«”æœ‰ä¸€å€‹åš´é‡å•é¡Œã€‚"},
            {en: "bug", ch: "éŒ¯èª¤/ç¼ºé™·", enSent: "We found a bug in the latest firmware.", zhSent: "æˆ‘å€‘åœ¨æœ€æ–°éŸŒé«”ä¸­ç™¼ç¾ä¸€å€‹éŒ¯èª¤ã€‚"},
            {en: "error", ch: "éŒ¯èª¤", enSent: "The system shows a memory error.", zhSent: "ç³»çµ±é¡¯ç¤ºè¨˜æ†¶é«”éŒ¯èª¤ã€‚"},
            {en: "fail", ch: "å¤±æ•—", enSent: "The test failed on three units.", zhSent: "æ¸¬è©¦åœ¨ä¸‰å€‹å–®å…ƒä¸Šå¤±æ•—äº†ã€‚"},
            {en: "pass", ch: "é€šé", enSent: "All validation tests passed.", zhSent: "æ‰€æœ‰é©—è­‰æ¸¬è©¦éƒ½é€šéäº†ã€‚"},
            {en: "boot", ch: "é–‹æ©Ÿ", enSent: "The system failed to boot.", zhSent: "ç³»çµ±ç„¡æ³•é–‹æ©Ÿã€‚"},
            {en: "hang", ch: "å¡ä½/æ›èµ·", enSent: "The system hangs at POST code 0xA2.", zhSent: "ç³»çµ±åœ¨ POST ä»£ç¢¼ 0xA2 å¡ä½ã€‚"},
            {en: "crash", ch: "ç•¶æ©Ÿ", enSent: "The OS crashed during stress test.", zhSent: "ä½œæ¥­ç³»çµ±åœ¨å£“åŠ›æ¸¬è©¦æœŸé–“ç•¶æ©Ÿã€‚"},
            {en: "timeout", ch: "é€¾æ™‚", enSent: "BMC response timeout after 30 seconds.", zhSent: "BMC åœ¨ 30 ç§’å¾Œå›æ‡‰é€¾æ™‚ã€‚"},
            {en: "reproduce", ch: "é‡ç¾", enSent: "Can you reproduce this issue?", zhSent: "ä½ èƒ½é‡ç¾é€™å€‹å•é¡Œå—ï¼Ÿ"},
            {en: "fix", ch: "ä¿®å¾©", enSent: "We need to fix this bug before release.", zhSent: "æˆ‘å€‘éœ€è¦åœ¨ç™¼ä½ˆå‰ä¿®å¾©é€™å€‹éŒ¯èª¤ã€‚"},
            {en: "resolve", ch: "è§£æ±º", enSent: "The issue was resolved yesterday.", zhSent: "å•é¡Œæ˜¨å¤©å·²è§£æ±ºã€‚"},
            {en: "verify", ch: "é©—è­‰", enSent: "Please verify the BIOS version.", zhSent: "è«‹é©—è­‰ BIOS ç‰ˆæœ¬ã€‚"},
            {en: "check", ch: "æª¢æŸ¥", enSent: "Check all cable connections.", zhSent: "æª¢æŸ¥æ‰€æœ‰ç·šæé€£æ¥ã€‚"},
            {en: "monitor", ch: "ç›£æ§", enSent: "Monitor the system temperature closely.", zhSent: "å¯†åˆ‡ç›£æ§ç³»çµ±æº«åº¦ã€‚"},
            {en: "analyze", ch: "åˆ†æ", enSent: "I need to analyze the log files.", zhSent: "æˆ‘éœ€è¦åˆ†ææ—¥èªŒæª”æ¡ˆã€‚"},
            {en: "investigate", ch: "èª¿æŸ¥", enSent: "We're still investigating the root cause.", zhSent: "æˆ‘å€‘é‚„åœ¨èª¿æŸ¥æ ¹æœ¬åŸå› ã€‚"},
            {en: "identify", ch: "è­˜åˆ¥", enSent: "We identified the faulty component.", zhSent: "æˆ‘å€‘è­˜åˆ¥å‡ºæ•…éšœçš„å…ƒä»¶ã€‚"},
            {en: "firmware", ch: "éŸŒé«”", enSent: "Update the firmware to version 2.5.", zhSent: "å°‡éŸŒé«”æ›´æ–°åˆ° 2.5 ç‰ˆã€‚"},
            {en: "BIOS", ch: "åŸºæœ¬è¼¸å…¥è¼¸å‡ºç³»çµ±", enSent: "Enter BIOS setup by pressing F2.", zhSent: "æŒ‰ F2 é€²å…¥ BIOS è¨­å®šã€‚"},
            {en: "UEFI", ch: "çµ±ä¸€å¯å»¶ä¼¸éŸŒé«”ä»‹é¢", enSent: "The platform uses UEFI firmware.", zhSent: "å¹³å°ä½¿ç”¨ UEFI éŸŒé«”ã€‚"},
            {en: "POST", ch: "é–‹æ©Ÿè‡ªæˆ‘æª¢æ¸¬", enSent: "POST completed successfully.", zhSent: "POST æˆåŠŸå®Œæˆã€‚"},
            {en: "BMC", ch: "åŸºæ¿ç®¡ç†æ§åˆ¶å™¨", enSent: "Connect to BMC using port 623.", zhSent: "ä½¿ç”¨ 623 åŸ é€£æ¥åˆ° BMCã€‚"},
            {en: "memory", ch: "è¨˜æ†¶é«”", enSent: "Install 512GB DDR5 memory.", zhSent: "å®‰è£ 512GB DDR5 è¨˜æ†¶é«”ã€‚"},
            {en: "CPU", ch: "ä¸­å¤®è™•ç†å™¨", enSent: "CPU temperature reached 95 degrees.", zhSent: "CPU æº«åº¦é”åˆ° 95 åº¦ã€‚"},
            {en: "GPU", ch: "åœ–å½¢è™•ç†å™¨", enSent: "The GPU is running at full load.", zhSent: "GPU æ­£åœ¨æ»¿è¼‰é‹è¡Œã€‚"},
            {en: "storage", ch: "å„²å­˜è£ç½®", enSent: "Check the storage capacity.", zhSent: "æª¢æŸ¥å„²å­˜å®¹é‡ã€‚"},
            {en: "network", ch: "ç¶²è·¯", enSent: "Network connection is unstable.", zhSent: "ç¶²è·¯é€£ç·šä¸ç©©å®šã€‚"}
        ];

        let current = 0;
        let rate = 1.0;
        let chineseVisible = true;
        let voiceList = [];

        const card = document.getElementById('card');
        const wordEl = document.getElementById('word');
        const chineseFrontEl = document.getElementById('chinese-front');
        const sentEnEl = document.getElementById('sentence-en');
        const sentZhEl = document.getElementById('sentence-zh');
        const progressEl = document.getElementById('progress');

        function loadVoices() {
            voiceList = window.speechSynthesis.getVoices();
        }

        if (window.speechSynthesis.onvoiceschanged !== undefined) {
            window.speechSynthesis.onvoiceschanged = loadVoices;
        } else {
             // æŸäº›ç€è¦½å™¨å¯èƒ½éœ€è¦å»¶é²è¼‰å…¥
             setTimeout(loadVoices, 500);
        }

        function getBestVoice() {
            // å„ªå…ˆå°‹æ‰¾ Google çš„ç¾å¼è‹±æ–‡ (é€šå¸¸æœ€è‡ªç„¶)
            let best = voiceList.find(v => v.name.includes("Google") && v.lang.startsWith('en'));
            
            // å¦‚æœæ²’æœ‰ï¼Œæ‰¾ä»»ä½•ç¾å¼è‹±æ–‡
            if (!best) best = voiceList.find(v => v.lang === 'en-US');
            
            // æœ€å¾Œé€€è€Œæ±‚å…¶æ¬¡ï¼Œæ‰¾ä»»ä½•è‹±æ–‡
            if (!best) best = voiceList.find(v => v.lang.startsWith('en'));

            return best;
        }

        function showCard() {
            const v = vocab[current];
            wordEl.textContent = v.en;
            // ç”±æ–¼ä¸­æ–‡é¡¯ç¤º/éš±è—åŠŸèƒ½ï¼ŒtextContentéœ€è¦æ ¹æ“šç‹€æ…‹è¨­å®š
            chineseFrontEl.textContent = v.ch;
            chineseFrontEl.classList.toggle('hidden', !chineseVisible);
            sentEnEl.textContent = v.enSent;
            sentZhEl.textContent = v.zhSent;
            sentZhEl.classList.toggle('hidden', !chineseVisible);
            
            progressEl.textContent = `${current + 1} / ${vocab.length}`;
            card.classList.remove('flipped');
        }

        function toggleFlip() {
            card.classList.toggle('flipped');
        }

        function nextCard() {
            current = (current + 1) % vocab.length;
            showCard();
        }

        function prevCard() {
            current = (current - 1 + vocab.length) % vocab.length;
            showCard();
        }

        function speakCurrent() {
            if ('speechSynthesis' in window) {
                if (voiceList.length === 0) loadVoices();

                const isFlipped = card.classList.contains('flipped');
                const text = isFlipped ? vocab[current].enSent : vocab[current].en;
                
                const utter = new SpeechSynthesisUtterance(text);
                
                const selectedVoice = getBestVoice();
                if (selectedVoice) {
                    utter.voice = selectedVoice;
                }

                utter.lang = 'en-US'; 
                utter.rate = rate;
                
                speechSynthesis.cancel();
                speechSynthesis.speak(utter);
            }
        }

        function toggleChinese() {
            chineseVisible = !chineseVisible;
            showCard();
        }

        function setRate(newRate) {
            rate = newRate;
            document.querySelectorAll('.speed-btn').forEach(btn => {
                btn.classList.toggle('active', parseFloat(btn.dataset.rate) === newRate);
            });
            // èªé€Ÿè®Šæ›´å¾Œå¯ä»¥è‡ªå‹•é‡å”¸
            speakCurrent();
        }

        // ç›£è½å¡ç‰‡é»æ“Šï¼Œå¯¦ç¾ç¿»è½‰
        card.addEventListener('click', function(e) {
            // å¿½ç•¥é»æ“Šåˆ°æ§åˆ¶æŒ‰éˆ•çš„æƒ…æ³
            if (e.target.closest('button')) return;
            toggleFlip();
        });

        // åˆå§‹è¼‰å…¥
        showCard();
        setRate(rate); // ç¢ºä¿åˆå§‹ 1x æŒ‰éˆ•æ˜¯ active ç‹€æ…‹
    </script>
</body>
</html>